package(default_visibility = ["//visibility:public"])

licenses(["notice"])

load("@io_bazel_rules_closure//closure:defs.bzl", "closure_css_library")
load("@io_bazel_rules_closure//closure:defs.bzl", "closure_js_library")

closure_js_library(
    name = "library",
    exports = [
        "//closure/goog/a11y/aria:all_js",
        "//closure/goog/array:all_js",
        "//closure/goog/asserts:all_js",
        "//closure/goog/async:all_js",
        "//closure/goog/collections:all_js",
        "//closure/goog/color:all_js",
        "//closure/goog/crypt:all_js",
        "//closure/goog/cssom:all_js",
        "//closure/goog/datasource:all_js",
        "//closure/goog/date:all_js",
        "//closure/goog/db:all_js",
        "//closure/goog/debug:all_js",
        "//closure/goog/delegate:all_js",
        "//closure/goog/disposable:all_js",
        "//closure/goog/dom:all_js",
        "//closure/goog/editor:all_js",
        "//closure/goog/events:all_js",
        "//closure/goog/format:all_js",
        "//closure/goog/fs:all_js",
        "//closure/goog/functions:all_js",
        "//closure/goog/fx:all_js",
        "//closure/goog/graphics:all_js",
        "//closure/goog/history:all_js",
        "//closure/goog/html:all_js",
        "//closure/goog/i18n:all_js",
        "//closure/goog/iter:all_js",
        "//closure/goog/json:all_js",
        "//closure/goog/loader:all_js",
        "//closure/goog/locale:all_js",
        "//closure/goog/log:all_js",
        "//closure/goog/math:all_js",
        "//closure/goog/memoize:all_js",
        "//closure/goog/messaging:all_js",
        "//closure/goog/module:all_js",
        "//closure/goog/net:all_js",
        "//closure/goog/object:all_js",
        "//closure/goog/positioning:all_js",
        "//closure/goog/promise:all_js",
        "//closure/goog/proto:all_js",
        "//closure/goog/proto2:all_js",
        "//closure/goog/pubsub:all_js",
        "//closure/goog/reflect:all_js",
        "//closure/goog/result:all_js",
        "//closure/goog/soy:all_js",
        "//closure/goog/spell:all_js",
        "//closure/goog/stats:all_js",
        "//closure/goog/storage:all_js",
        "//closure/goog/string:all_js",
        "//closure/goog/structs:all_js",
        "//closure/goog/style:all_js",
        "//closure/goog/testing:all_js",
        "//closure/goog/timer:all_js",
        "//closure/goog/tweak:all_js",
        "//closure/goog/uri:all_js",
        "//closure/goog/useragent:all_js",
        "//closure/goog/vec:all_js",
        "//closure/goog/webgl:all_js",
        "//closure/goog/window:all_js",
    ],
)

closure_js_library(
    name = "testing",
    testonly = True,
    exports = [
        "//closure/goog:test_module",
        "//closure/goog:test_module_dep",
        "//closure/goog/crypt:hashtester",
        "//closure/goog/events:eventtargettester",
        "//closure/goog/html:testing",
        "//closure/goog/promise:testsuiteadapter",
        "//closure/goog/proto2:test.pb",
        "//closure/goog/storage:collectablestoragetester",
        "//closure/goog/storage:storagetester",
        "//closure/goog/storage/mechanism:iterablemechanismtester",
        "//closure/goog/storage/mechanism:mechanismseparationtester",
        "//closure/goog/storage/mechanism:mechanismsharingtester",
        "//closure/goog/storage/mechanism:mechanismtestdefinition",
        "//closure/goog/storage/mechanism:mechanismtester",
        "//closure/goog/style:stylescrollbartester",
        "//closure/goog/testing:assertionfailure",
        "//closure/goog/testing:asserts",
        "//closure/goog/testing:asynctestcase",
        "//closure/goog/testing:benchmark",
        "//closure/goog/testing:continuationtestcase",
        "//closure/goog/testing:deferredtestcase",
        "//closure/goog/testing:dom",
        "//closure/goog/testing:expectedfailures",
        "//closure/goog/testing:functionmock",
        "//closure/goog/testing:graphics",
        "//closure/goog/testing:jstdtestcaseadapter",
        "//closure/goog/testing:jsunit",
        "//closure/goog/testing:jsunitexception",
        "//closure/goog/testing:loosemock",
        "//closure/goog/testing:mock",
        "//closure/goog/testing:mockclassfactory",
        "//closure/goog/testing:mockclock",
        "//closure/goog/testing:mockcontrol",
        "//closure/goog/testing:mockinterface",
        "//closure/goog/testing:mockmatchers",
        "//closure/goog/testing:mockrandom",
        "//closure/goog/testing:mockrange",
        "//closure/goog/testing:mockstorage",
        "//closure/goog/testing:mockuseragent",
        "//closure/goog/testing:multitestrunner",
        "//closure/goog/testing:objectpropertystring",
        "//closure/goog/testing:performancetable",
        "//closure/goog/testing:performancetimer",
        "//closure/goog/testing:propertyreplacer",
        "//closure/goog/testing:pseudorandom",
        "//closure/goog/testing:recordfunction",
        "//closure/goog/testing:shardingtestcase",
        "//closure/goog/testing:singleton",
        "//closure/goog/testing:stacktrace",
        "//closure/goog/testing:strictmock",
        "//closure/goog/testing:testcase",
        "//closure/goog/testing:testqueue",
        "//closure/goog/testing:testrunner",
        "//closure/goog/testing:testsuite",
        "//closure/goog/testing/async:mockcontrol",
        "//closure/goog/testing/editor:dom",
        "//closure/goog/testing/editor:fieldmock",
        "//closure/goog/testing/editor:testhelper",
        "//closure/goog/testing/events",
        "//closure/goog/testing/events:eventobserver",
        "//closure/goog/testing/events:matchers",
        "//closure/goog/testing/events:onlinehandler",
        "//closure/goog/testing/fs",
        "//closure/goog/testing/fs:blob",
        "//closure/goog/testing/fs:entry",
        "//closure/goog/testing/fs:file",
        "//closure/goog/testing/fs:filereader",
        "//closure/goog/testing/fs:filesystem",
        "//closure/goog/testing/fs:filewriter",
        "//closure/goog/testing/fs:progressevent",
        "//closure/goog/testing/i18n:asserts",
        "//closure/goog/testing/messaging:mockmessagechannel",
        "//closure/goog/testing/messaging:mockmessageevent",
        "//closure/goog/testing/messaging:mockmessageport",
        "//closure/goog/testing/messaging:mockportnetwork",
        "//closure/goog/testing/net:mockiframeio",
        "//closure/goog/testing/net:xhrio",
        "//closure/goog/testing/net:xhriopool",
        "//closure/goog/testing/proto2",
        "//closure/goog/testing/storage:fakemechanism",
        "//closure/goog/testing/style",
        "//closure/goog/testing/style:layoutasserts",
        "//closure/goog/tweak:testhelpers",
        "//closure/goog/useragent:useragenttestutil",
    ],
)

closure_js_library(
    name = "goog",
    srcs = ["//closure/goog:goog.js"],
    lenient = True,
    no_closure_library = True,
)

closure_js_library(
    name = "test_module",
    testonly = True,
    srcs = ["//closure/goog:test_module.js"],
    lenient = True,
    deps = ["//closure/goog:test_module_dep"],
)

closure_js_library(
    name = "test_module_dep",
    testonly = True,
    srcs = ["//closure/goog:test_module_dep.js"],
    lenient = True,
)

filegroup(
    name = "base",
    srcs = [
        "//closure/goog:base.js",
        "//closure/goog:transitionalforwarddeclarations.js",
    ],
)

closure_js_library(
    name = "deps",
    srcs = ["//closure/goog:deps.js"],
    lenient = True,
)

closure_js_library(
    name = "transpile",
    srcs = ["//closure/goog:transpile.js"],
    lenient = True,
)

closure_css_library(
    name = "css",
    srcs = ["//closure/goog/css:css_files"],
)

py_binary(
    name = "regenerate",
    srcs = ["regenerate.py"],
    args = ["$(location //closure/goog:base.js)"],
    data = [
        "@com_google_javascript_closure_library",
        "//closure/goog:base.js",
    ],
    tags = [
        "local",
        "manual",
    ],
    visibility = ["//visibility:private"],
)
